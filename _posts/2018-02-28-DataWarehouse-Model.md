---
layout: post
date:   2018-02-28 15:50:00
title:  "数据仓库建模"
categories: 数据仓库
tags:  数据仓库 建模 模型设计 Data Warehouse
mathjax: true
---

* content
{:toc}
数据仓库是将企业内各种跨平台的的数据经过集成形成的支持管理运营决策的数据集合。





## 数据仓库模型相关理论

### 实体关系(ER)模型

数据仓库之父W.H.Inmon的方法是从全企业高度设计一个3NF模型，用实体加关系描述的数据模型。在范式理论上符合3NF，它与OLTP系统中的3NF的区别，在于数据仓库中的3NF上站在企业角度面向主题的抽象，而不是针对某个具体业务流程的实体对象关系抽象，它更多的是面向数据的整合和一致性治理，正如Immon所希望达到的：“single version of the truth”。

### 维度模型

维度模型是数据仓库领域另一位大师Ralph Kimall所倡导，他的《The DataWarehouse Toolkit-The Complete Guide to Dimensona Modeling，中文名《数据仓库工具箱》，是数据仓库工程领域最流行的数仓建模经典。维度建模以分析决策的需求出发构建模型，构建的数据模型为分析需求服务，因此它重点解决用户如何更快速完成分析需求，同时还有较好的大规模复杂查询的响应性能。

典型的代表是我们比较熟知的星形模型，以及在一些特殊场景下适用的雪花模型。

### DataVault

ata Vault 是 Dan Linstedt 发起创建的一种模型方法论，现在应该叫做Data Vault 2.0了，它也是一套完整的数据仓库理论，其中也有专门的一部分关于数据模型设计。

个人理解 Data Vault 模型 应该说是范式模型和维度模型的一种混合，它兼容了两种模型的优势。

Data Vault 通常可以分为三种类型，中心体，链接体和附属体
它主要由：Hub（中心表）、Link（链接表）和 Satellite（卫星表） 三部分组成 。

中心表：

中心表主要是存储一些日常用的一些业务关键码，比如客户号，发票号，流水号等等。它包括三个要素：

代理键：这就是一些操作性的组件，包括客户号，发票号等等
装载时间戳：这里可以理解为ETL进行日加载的时间。
数据源：就是可以追索到的原系统，比如，CRM，ERP等
链接表：

是3NF的多对多关系的物理表现形式，它表现的是多个业务键之间的关系。它和范式模型的最大区别是将关系作为一个独立单元抽象出来，可以提升模型的扩展性。它主要包含以下特征:

代理键
代理键间的映射关系
装载时间戳：这里可以理解为ETL进行日加载的时间。
数据源：就是可以追索到的原系统，比如，CRM，ERP等
卫星表：

业务领域中的其余信息可能随着时间而变化，所以卫星表必须有能力存储新的或者变化的各种粒度的数据，他们将被存储在卫星表内。卫星表是中心表的详细描述内容，一个中心表会有多个卫星表。它由中心表的代理键、装载时间、来源类型、详细的中心表描述信息等组成。

### Anchor模型

## 数据仓库设计的一些原则

## 数据仓库实践

## 项目总结